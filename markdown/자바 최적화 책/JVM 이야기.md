## 2.1 인터프리팅과 클래스 로딩

- 자바 애플리케이션은 실행하면, OS는 가상 머신 프로세스인, **자바 바이너리**를 구동함
- 자바 클래스로딩 메커니즘
  - 자바 프로세스가 새로 초기화되면서 사슬처럼 연결된 클래스로더들이 작동함
  - **부트스트랩 클래스**가 가장 먼저 자바 런타임 코어 클래스를 로더
    - 부트스트랩 클래스로더의 주임무는, 다른 클래스로더가 나머지 시스템에 필요한 클래스 로드할 수 있게, **최소한의 필수 클래스**만 로드함	
  - 그 다음으로 **확장클래스로더**가 **부트스트랩 클래스로더를 부모로 설정**하고, 필요할 때 클래스로딩 작업을 부모에게 넘긴다.
    - 자바는 프로그램 실행 중 처음 보는 새 클래스를 `dependency`(의존체)에 로드함
    - 없으면 부모 클래스로더에게 대신 룩업을 넘김
      - 그렇게해도 못 찾을 경우 `ClassNotFoundException`이 발생함

​	

## 2.2 바이트코드 실행

- 자바 소스 코드의 실행은 `javac`를 이용해 `바이트 코드`로 컴파일하는 것으로부터 시작된다.
  - `.java` 에서 `.class` 로 바꾸는 것이다.
- 바이트 코드는 컴퓨터 아키텍처의 지배를 받지 않아, 이식성이 좋고 JVM 지원 플랫폼이면 어디든지 실행 가능
  - 호환되지 않는 버전의 클래스 파일을 만나면 런타임에 `UnsupportedClassVersionError` 예외가 발생함

### JIT ( Just In Time) 컴파일이란?

- 자바 프로그램은 `바이트코드 인터프리터`가 `가상화된 스택 머신`에서 명령어를 실행함
  - `바이트코드 인터프리터`는 CPU를 추상화한 구조이기 때문에 다른 클래스 파일을 문제없이 실행할 수 있지만, 성능을 최대화를 위해서는 네이티브 기능을 활용한 CPU에서 직접 프로그램을 실행시켜야함
- 이를 위해 핫스팟 가상머신에서 **프로그램 단위** (메서드와 루프)를 `인터프리티드 바이트코드에서 네이티브 코드`로 컴파일함. => 이를 **JIT 컴파일**이라고 함
  - 핫스팟 JVM은 자주 실행되는 코드 파트를 발견해 JIT 컴파일을 수행함
  - 컴파일러가 해석 단계에서 수집한 추적 정보를 근거로 최적화를 결정한다는 것